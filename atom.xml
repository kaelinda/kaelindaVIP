<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Kaelinda]]></title>
  <link href="http://kaelinda.top/atom.xml" rel="self"/>
  <link href="http://kaelinda.top/"/>
  <updated>2021-10-12T11:05:20+08:00</updated>
  <id>http://kaelinda.top/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.coderforart.com/">CoderForArt</generator>

  
  <entry>
    <title type="html"><![CDATA[ç½‘ç»œæ˜¯æ€æ ·è¿æ¥çš„]]></title>
    <link href="http://kaelinda.top/15341646765442.html"/>
    
    <updated>2018-08-13T20:51:16+08:00</updated>
    <id>http://kaelinda.top/15341646765442.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h2><a id="%E7%94%9F%E6%88%90http%E8%AF%B7%E6%B1%82%E4%BF%A1%E6%81%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç”ŸæˆHTTPè¯·æ±‚ä¿¡æ¯</h2>
<p>URLç§ç±»ï¼š<code>http:</code> <code>ftp:</code> <code>file:</code> <code>mailto:</code> <code>news:</code></p>
<p>URLç»„æˆï¼šåè®® + ç”¨æˆ·å(å¯çœç•¥) + å¯†ç (çœç•¥) + æœåŠ¡å™¨åŸŸå + ç«¯å£å·(å¯çœç•¥) + æ–‡ä»¶è·¯å¾„å</p>
<p><figure><img src="https://ws2.sinaimg.cn/large/0069RVTdly1fu8d5d2w7jj313e19atf8.jpg" alt="" /></figure></p>
<h3><a id="%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç½‘ç»œè¯·æ±‚</h3>
<p><figure><img src="https://ws1.sinaimg.cn/large/0069RVTdly1fu8fexsc00j313a10ewp6.jpg" alt="" /></figure></p>
<h3><a id="http" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTTP</h3>
<ul>
<li><code>URI</code>ï¼šUniform Resource Identifierï¼Œç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦</li>
<li><code>CGI</code>ï¼šå¯¹ Web æœåŠ¡å™¨ç¨‹åºè°ƒç”¨å…¶ä»–ç¨‹åºçš„è§„åˆ™æ‰€åšçš„å®šä¹‰å°±æ˜¯ CGI</li>
</ul>
<h3><a id="dns%E6%9C%8D%E5%8A%A1%E5%99%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>DNSæœåŠ¡å™¨</h3>
<p>DNSæŸ¥è¯¢æœåŠ¡åŒ…å«ä¸‹é¢ä¸‰éƒ¨åˆ†ï¼š</p>
<ul>
<li><code>åŸŸå</code>ï¼šæœåŠ¡å™¨ã€é‚®ä»¶æœåŠ¡å™¨(é‚®ä»¶åœ°å€ä¸­ @ åé¢çš„éƒ¨åˆ†)çš„åç§°</li>
<li><code>Class</code>ï¼šåœ¨æœ€æ—©è®¾è®¡ DNS æ–¹æ¡ˆæ—¶ï¼ŒDNS åœ¨äº’è”ç½‘ä»¥å¤–çš„å…¶ä»–ç½‘ç»œä¸­çš„åº”ç”¨ä¹Ÿè¢«è€ƒè™‘åˆ°äº†ï¼Œè€Œ Class å°±æ˜¯ç”¨æ¥è¯†åˆ«ç½‘ç»œçš„ä¿¡æ¯ã€‚ä¸è¿‡ï¼Œå¦‚ä»Šé™¤äº†äº’è”ç½‘å¹¶æ²¡æœ‰å…¶ä»–çš„ç½‘ç»œäº†ï¼Œå› æ­¤ Class çš„å€¼æ°¸è¿œæ˜¯ä»£è¡¨äº’è”ç½‘çš„ IN</li>
<li><code>è®°å½•ç±»å‹</code>:è¡¨ç¤ºåŸŸåå¯¹åº”ä½•ç§ç±»å‹çš„è®°å½•ã€‚ä¾‹å¦‚ï¼Œå½“ç±»å‹ä¸º A æ—¶ï¼Œè¡¨ç¤ºåŸŸå å¯¹åº”çš„æ˜¯ IP åœ°å€;å½“ç±»å‹ä¸º MX æ—¶ï¼Œè¡¨ç¤ºåŸŸåå¯¹åº”çš„æ˜¯é‚®ä»¶æœåŠ¡ å™¨ã€‚å¯¹äºä¸åŒçš„è®°å½•ç±»å‹ï¼ŒæœåŠ¡å™¨å‘å®¢æˆ·ç«¯è¿”å›çš„ä¿¡æ¯ä¹Ÿä¼šä¸åŒ</li>
</ul>
<p><figure><img src="https://ws2.sinaimg.cn/large/0069RVTdly1fubcsxb3lzj318812ualm.jpg" alt="DNSæœåŠ¡å™¨çš„åŸºæœ¬å·¥ä½œ" /><figcaption>DNSæœåŠ¡å™¨çš„åŸºæœ¬å·¥ä½œ<figcaption></figure></p>
<p><strong>æ•²é»‘æ¿ï¼Œåˆ’é‡ç‚¹ï¼ï¼ï¼</strong></p>
<blockquote>
<p>ä¸Šçº§ DNS æœåŠ¡å™¨ä¿ç®¡ç€æ‰€æœ‰ä¸‹çº§ DNS æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»æ ¹åŸŸå¼€å§‹ä¸€è·¯å¾€ä¸‹é¡ºè—¤æ‘¸ç“œæ‰¾åˆ°ä»»æ„ ä¸€ä¸ªåŸŸçš„ DNS æœåŠ¡å™¨ï¼›
æ ¹åŸŸçš„ DNS æœåŠ¡å™¨ä¿¡æ¯ä¿å­˜åœ¨äº’è”ç½‘ä¸­æ‰€æœ‰çš„ DNS æœåŠ¡å™¨ä¸­ï¼Œä»»ä½• DNS æœåŠ¡å™¨å°±éƒ½å¯ ä»¥æ‰¾åˆ°å¹¶è®¿é—®æ ¹åŸŸ DNS æœåŠ¡å™¨äº†ã€‚</p>
</blockquote>
<p>åè®®æ ˆä¼ è¾“æ•°æ®ï¼š</p>
<ol>
<li>æœåŠ¡å™¨ä¸€æ–¹åˆ›å»ºå¥—æ¥å­—ï¼Œç­‰å¾…å®¢æˆ·ç«¯å‘è¯¥å¥—æ¥å­—è¿æ¥ç®¡é“ (åˆ›å»ºå¥—æ¥å­—é˜¶æ®µ)</li>
<li>å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—ï¼Œç„¶åä»è¯¥å¥—æ¥å­—ä¼¸å‡ºç®¡é“å»è¿æ¥æœåŠ¡ç«¯çš„å¥—æ¥å­— (åˆ›å»ºå¥—æ¥å­—é˜¶æ®µ ã€è¿æ¥å¥—æ¥å­—é˜¶æ®µ)</li>
<li>å®¢æˆ·ç«¯å¥—æ¥å­— å’Œ æœåŠ¡ç«¯å¥—æ¥å­—å»ºç«‹è¿æ¥ä»¥åå°±å¯ä»¥ä¼ è¾“ç½‘ç»œæ•°æ®äº†ï¼ˆæ•°å­—ä¿¡æ¯ digital dataï¼‰(é€šä¿¡é˜¶æ®µ)</li>
<li>æ–­å¼€é€šé“ã€åˆ é™¤å¥—æ¥å­— (æ–­å¼€é˜¶æ®µ)</li>
</ol>
<p><figure><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fup9h6snmhj316s0zg7ah.jpg" alt="" /></figure></p>
<ul>
<li>æè¿°ç¬¦:åº”ç”¨ç¨‹åºç”¨æ¥è¯†åˆ«å¥—æ¥å­—çš„æœºåˆ¶</li>
<li>IP åœ°å€å’Œç«¯å£å·:å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ç”¨æ¥è¯†åˆ«å¯¹æ–¹å¥—æ¥å­—çš„æœºåˆ¶
<figure><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fupfvmg5jwj31j40x60xr.jpg" alt="" /></figure></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ä»é›¶å¼€å§‹å­¦ä¹ ä½¿ç”¨ vuex]]></title>
    <link href="http://kaelinda.top/15168925544178.html"/>
    
    <updated>2018-01-25T23:02:34+08:00</updated>
    <id>http://kaelinda.top/15168925544178.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<blockquote>
<p>æœ¬æ–‡æ˜¯å»ºç«‹åœ¨ï¼Œå¯¹vuexç†è®ºæœ‰ä¸€å®šç†è§£çš„åŸºç¡€ä¸Šå†™çš„ã€‚
å› ä¸ºå®˜æ–¹æ–‡æ¡£çš„å†™æ³•æ˜¯ é’ˆå¯¹ æœ‰ä¸€å®šçš„vueå¼€å‘ç»éªŒ å’Œ JavaScript æœ‰ä¸€å®šç†è§£çš„å¼€å‘è€…çœ‹çš„ï¼Œå¯¹äºå°ç™½çº§åˆ«çš„æˆ‘æ¥è¯´ï¼Œç†è§£èµ·æ¥æœ‰ä¸€å®šå›°éš¾ã€‚æ‰€ä»¥ï¼Œå”¯ä¸€æƒ³æˆ‘ä¸€å‘çš„å°ç™½æƒ³å°½å¿«ä¸Šæ‰‹vuex....</p>
</blockquote>
<p><a href="https://vuex.vuejs.org/zh-cn/installation.html">è¯¦æƒ…è¯·å‚è€ƒvuexå®˜æ–¹æ–‡æ¡£</a></p>
<h2><a id="%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®‰è£…</h2>
<h3><a id="%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BDcdn%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç›´æ¥ä¸‹è½½ CDN å®‰è£…</h3>
<p>CDN é“¾æ¥åœ°å€ï¼š<code>https://unpkg.com/vuex</code>
æŒ‡å®šåˆ°å›ºå®šç‰ˆæœ¬ï¼š<code>https://unpkg.com/vuex@2.0.0</code></p>
<pre><code class="language-plain_text">&lt;script src=&quot;/path/to/vue.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/path/to/vuex.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h3><a id="npm%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%81%E7%AE%80%E5%8D%95%E5%BF%AB%E6%8D%B7%EF%BC%8C%E4%BE%BF%E4%BA%8E%E7%AE%A1%E7%90%86%EF%BC%89" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>npm æ–¹å¼å®‰è£… ï¼ˆæ¨èï¼ç®€å•å¿«æ·ï¼Œä¾¿äºç®¡ç†ï¼‰</h3>
<p><code>npm install -save vuex</code></p>
<h3><a id="yar" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>yar</h3>
<p><code>yarn add vuex</code></p>
<h3><a id="%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BA" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è‡ªå·±æ„å»º</h3>
<pre><code class="language-bash">git clone https://github.com/vuejs/vuex.git node_modules/vuex
cd node_modules/vuex
npm install
npm run build
</code></pre>
<h2><a id="%E5%AF%BC%E5%85%A5vue%E5%B7%A5%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¯¼å…¥vueå·¥ç¨‹ä¸­ä½¿ç”¨</h2>
<ul>
<li>main.js å…¥å£æ–‡ä»¶</li>
</ul>
<blockquote>
<p>æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å¯¼å…¥ï¼Œå·¥ç¨‹å°±å¯ä»¥ä½¿ç”¨vuexçš„ç¯å¢ƒäº†</p>
</blockquote>
<pre><code class="language-JavaScript">// å¯¼å…¥vuexå¤´æ–‡ä»¶
import Vuex from 'vuex'
// è¿™é‡Œè¡¨ç¤ºå…¨å±€å¯¼å…¥vuex
Vue.use(Vuex)
// è¿™é‡Œæ˜¯æˆ‘è‡ªå®šä¹‰çš„storeæ–‡ä»¶ å¯¼å‡ºstoreå¯¹è±¡
import store from '@/study/vuexStudy/store/store.js'
</code></pre>
<blockquote>
<p>å…¥å£ç»„ä»¶<App/>ä¸­ï¼Œç»‘å®šstore</p>
</blockquote>
<pre><code class="language-plain_text">new Vue({
  el: '#app',
  template: '&lt;App/&gt;',
  components: { App },
  store
})
</code></pre>
<p>åˆ°è¿™é‡Œ ç®—æ˜¯ä¸‡é‡Œé•¿å¾èµ°äº†ç¬¬ä¸€æ­¥ã€‚</p>
<h3><a id="%E5%88%9B%E5%BB%BAstore%E5%AF%B9%E8%B1%A1" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åˆ›å»ºStoreå¯¹è±¡</h3>
<h4><a id="store%E7%9A%84%E7%BB%93%E6%9E%84" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>store çš„ç»“æ„:</h4>
<pre><code class="language-JavaScript">export const store = new Vuex.Store({

  // ------state:çŠ¶æ€å€¼å­˜å‚¨,è¿™é‡Œå¯ä»¥å­˜å‚¨nä¸ªçŠ¶æ€çš„å€¼
  state: {count: '1'},
  
  // ------getter:storeä¸­å®šä¹‰çš„getterså¯ä»¥è®¤ä¸ºæ˜¯storeçš„è®¡ç®—å±æ€§
  // gettersæ¥æ”¶stateä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°
  getters: {
    done (state) {
      return state.count + 5
    }
  },
  
  // ------mutations:çŠ¶æ€å€¼çš„æ”¹å˜ï¼Œæ“ä½œçŠ¶æ€å€¼
  // $store.commit(mutationsName, params)æ˜¯æ›´æ”¹çŠ¶æ€å€¼çš„å”¯ä¸€æ–¹æ³•
  mutations: {
    increment (state) {
      // å˜æ›´çŠ¶æ€
      state.count++
    }
  },

  // ------actions:å¯ä»¥è®¤ä¸ºæ˜¯åŒ…è£…äº†mutationsçš„function éœ€è¦ç”¨ dispatch(actionName) çš„æ–¹å¼å»æ´¾å‘
  actions: {
    add (context) {
      context.commit('increment')
    },
    addAsync (context) {
      // å»¶æ—¶1ç§’
      setTimeout(() =&gt; {
        context.commit('increment')
      }, 1000)
    }
  },
  // storeå¯ä»¥åˆå¹¶å‡ ä¸ªå­storeï¼Œä»¥æ­¤æ¥è¿›è¡Œé¡¹ç›®çš„æ¨¡å—åŒ–
  modules: {
    a: moduleA,
    b: moduleB
  }
})
</code></pre>
<h4><a id="%E7%BC%96%E8%BE%91%E5%AE%9A%E4%B9%89store%E5%AE%9E%E4%BD%93%E5%AF%B9%E8%B1%A1%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç¼–è¾‘å®šä¹‰storeå®ä½“å¯¹è±¡ï¼š</h4>
<ul>
<li>store.jsæ–‡ä»¶ä¸­</li>
</ul>
<blockquote>
<p>è¿™é‡Œä¸ºäº†ä¾¿äºæŠ½ç¦» æˆ‘ä»¬å¤–éƒ¨å£°æ˜åŸå¯¹è±¡å®ä½“ååµŒå…¥ç»‘å®šåˆ°store</p>
</blockquote>
<ol>
<li>
<p>åˆ›å»ºä¸€ä¸ªstoreå¯¹è±¡</p>
<pre><code class="language-JavaScript">export default const store = new Vuex.Store({
  state,//ç»‘å®šä¹‹å‰åˆ›å»ºçš„stateå¯¹è±¡åˆ°storeä¸­
  mutations,
  getters,
  actions,
  modules
})
</code></pre>
</li>
<li>
<p>å®šä¹‰ä¸€ä¸ªçŠ¶æ€å¯¹è±¡ <code>state</code>ï¼ˆå®ä½“ï¼‰</p>
<pre><code class="language-JavaScript">const state = {
  count: 0,
  state1: 1,
  state2: 2,
  state3: 3
}
</code></pre>
</li>
<li>
<p>å®šä¹‰getterså¯¹è±¡</p>
<pre><code class="language-plain_text">const getters = {
  done (state) {
    return state.count + 5
  },
  getState1: function (state) {
    return state.state3
  },
  // ES6ç®€å†™
  getState2: state =&gt;  state.state2
}
</code></pre>
</li>
<li>
<p>.vue æ–‡ä»¶ä¸­ç›´æ¥è·å–stateå€¼</p>
<p>é¦–å…ˆå¯¼å…¥è¾…åŠ©å‡½æ•°ï¼š</p>
<pre><code class="language-plain_text">import { 
    mapState, 
    mapGetters, 
    mapMutations, 
    mapActions 
    } from 'vuex'
</code></pre>
<ul>
<li>ç¬¬ä¸€ç§æ–¹å¼ï¼šç»‘å®šåˆ°ç»„ä»¶å±æ€§ä¸­ï¼Œç›´æ¥è·å– ï¼ˆä¸€èˆ¬ä¸ç”¨è¿™ä¸ªï¼Œç»‘å®šåˆ°computedä¸­æ˜¯æœ€åˆé€‚çš„ï¼‰<code>$store.state.count</code>å¹¶ä½¿ç”¨</li>
</ul>
<pre><code class="language-JavaScript">export default {
    data() {
        return {
          testCount: this.$store.state.count
        }
    }
}
</code></pre>
<ul>
<li>ç¬¬äºŒç§æ–¹å¼ï¼š ç»‘å®šåˆ°è®¡ç®—å±æ€§ä¸­ï¼ˆé€‚åˆå¯¹storeä¸­çš„åŸå§‹çŠ¶æ€å€¼è¿›è¡Œä¸€å®šå¤„ç†çš„æƒ…å†µï¼‰</li>
</ul>
<pre><code class="language-JavaScript">export default {
    data() {
        return {
          testCount: this.$store.state.count
        }
    },
    computed:{
        testComputedCount1: function () {
            return this.$store.state.count + 22
        }
    }
}
</code></pre>
<ul>
<li>ç¬¬ä¸‰ç§æ–¹å¼ï¼šmapStateè¾…åŠ©å‡½æ•°ç»‘å®šçŠ¶æ€stateå€¼åˆ°ç»„ä»¶è®¡ç®—å±æ€§ä¸­</li>
</ul>
<pre><code class="language-JavaScript">export default {
    data() {
        return {
          testCount: this.$store.state.count
        }
    },
    computed:{
        testComputedCount1: function () {
            return this.$store.state.count + 22
        },
        ...mapState({
            count: state =&gt; state.count,
            mapState1: state =&gt; state.state1,
            mapState2: state =&gt; state.state2
        }),
    }
}
</code></pre>
<ul>
<li>ç¬¬å››ç§æ–¹å¼ï¼šä½¿ç”¨storeä¸­ç»‘å®šçš„gettersè¿›è¡Œè·å–</li>
</ul>
<pre><code class="language-JavaScript">export default {
    data() {
        return {
          testCount: this.$store.state.count
        }
    },
    computed:{
        testComputedCount1: function () {
            return this.$store.state.count + 22
        },
        ...mapState({
            count: state =&gt; state.count,
            mapState1: state =&gt; state.state1,
            mapState2: state =&gt; state.state2
        }),
        testComputedGettersCount2: funtion () {
            return this.$store.getters.done
        }
    }
}
</code></pre>
<ul>
<li>ç¬¬äº”ç§æ–¹å¼ï¼š å€ŸåŠ©mapGettersè¾…åŠ©å‡½æ•°ç»‘å®šgettersåˆ°vueçš„è®¡ç®—å±æ€§ä¸­</li>
</ul>
<pre><code class="language-JavaScript">export default {
    data() {
        return {
          testCount: this.$store.state.count
        }
    },
    computed:{
        testComputedCount1: function () {
            return this.$store.state.count + 22
        },
        ...mapState({
            count: state =&gt; state.count,
            mapState1: state =&gt; state.state1,
            mapState2: state =&gt; state.state2
        }),
        testComputedGettersCount2: funtion () {
            return this.$store.getters.done
        },
        
        //ç›´æ¥ç»‘å®šæ–¹æ³•æ•°ç»„çš„æ–¹å¼
        ...mapGetters([
            'getState1',
            'getState2',
            'getState3'
        ]),
        
        //é‡å‘½åå¯¹è±¡ç»‘å®šæ–¹å¼
        ...mapGetters({
          mapGetterState1: 'getState1',
          mapGetterState3: 'getState3'
        }),
    }
}
</code></pre>
</li>
<li>
<p>è§¦å‘åŠ¨ä½œè¡Œä¸ºæ”¹å˜çŠ¶æ€å€¼</p>
<blockquote>
<p>æ–¹å¼ä¸€ï¼š$store.commit('mutationsName')</p>
</blockquote>
<blockquote>
<p>æ–¹å¼äºŒï¼š$store.dispatch('actionsName')</p>
</blockquote>
<p>store.jsæ–‡ä»¶ä¸­ï¼š</p>
<ul>
<li>åˆå§‹åŒ– mutations å’Œ actions (ç›¸å½“äºæ˜¯methods)</li>
</ul>
<pre><code class="language-plain_text">const mutations = {
    increment (state) {
        // å˜æ›´çŠ¶æ€
        state.count = state.count * 5
    }
}
</code></pre>
<pre><code class="language-plain_text">import {action4} from '@/path/actions.js'
const actions = {
    // åŒæ­¥æ–¹æ³•
    add: function (context) {
        context.commit('increment')
    },
    // å»¶æ—¶æ“ä½œ ç”¨äºç½‘ç»œè¯·æ±‚å•Šå•¥çš„
    addAsync (context) {
        // å»¶æ—¶1ç§’
        setTimeout(() =&gt; {
            context.commit('increment')
        }, 1000)
    },
    // ç®€å†™æ–¹å¼
    action2 (context) {
        context.commit('increment')
    },
    // æŠ½ç¦»åˆ°å•ç‹¬æ–‡ä»¶ä¸­ï¼Œåœ¨å¯¼è¿›å°è£…å¥½çš„å˜é‡æ¥ç›´æ¥ä½¿ç”¨å³å¯ï¼ˆå¯¼è¿›æ¥çš„ç›®çš„æ˜¯ä¸ºäº†æ¥æ”¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼šstateï¼‰ï¼Œä¸ç»‘å®šåˆ°storeï¼Œéœ€è¦æ‰‹åŠ¨ä¼ å…¥storeå¯¹è±¡
    action4: action4,
}
</code></pre>
</li>
</ol>
<ul>
<li>
<p>ç»‘å®šaction å’Œ mutations åˆ° methodsï¼Œç„¶å è°ƒç”¨å°±è¡Œäº†</p>
<pre><code class="language-plain_text">export default {
    methods: {
        // æ•°ç»„å½¢å¼ç›´æ¥è½½å…¥
        ...mapActions([
            'add'
        ]),
        // é‡å‘½åå½¢å¼ 
        ...mapActions({
            add: 'add',
            addAsync: 'addAsync',
            action4: 'action4'
        }),
        // åŒä¸Š
        ...mapMutations([
            'increment'
        ]),
        ...mapMutations({
            incrementMutation: 'increment'
        })
    }
}
</code></pre>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç»™å®‰å“é¡¹ç›®æ·»åŠ å¯åŠ¨å›¾]]></title>
    <link href="http://kaelinda.top/15151216159291.html"/>
    
    <updated>2018-01-05T11:06:55+08:00</updated>
    <id>http://kaelinda.top/15151216159291.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h1><a id="react-native-splash-screen" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>react-native-splash-screen</h1>
<p>ç»™å®‰å“é¡¹ç›®æ·»åŠ å¯åŠ¨å›¾</p>
<h2><a id="react-native-splash-screen%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>react-native-splash-screen åŸºæœ¬é…ç½®</h2>
<ul>
<li>å®‰è£…æ’ä»¶ï¼š<code>npm install react-native-splash-screen --save</code></li>
<li>å…³è”é¡¹ç›®ï¼š<code>react-native link react-native-splash-screen</code> or <code>rnpm link react-native-splash-screen</code></li>
</ul>
<blockquote>
<p>link ä¹‹åï¼Œå®‰å“é¡¹ç›®ä¸­ä¼šè‡ªåŠ¨æ·»åŠ å¤´æ–‡ä»¶ ä»¥åŠéƒ¨åˆ†ä»£ç ï¼Œä¸ºä¿è¯é¡¹ç›®é¡ºåˆ©è¿è¡Œï¼Œè¿˜è¯·ç¡®è®¤ä¸‹é¢ä»£ç æ˜¯å¦å·²ç»å®Œå–„ã€‚</p>
</blockquote>
<ul>
<li>
<p>ç¡®ä¿ <code>android/settings.gradle</code>æ–‡ä»¶å¤¹å·²ç»æœ‰ä¸‹é¢ä»£ç </p>
<pre><code class="language-JavaScript"></code></pre>
</li>
</ul>
<p>include ':react-native-splash-screen'<br />
project(':react-native-splash-screen').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-splash-screen/android')</p>
<pre><code class="language-plain_text">* android/app/build.gradle æ–‡ä»¶ä¸­ æ·»åŠ ä¾èµ– `react-native-splash-screen`

    ```
...
dependencies {
    ...
    compile project(':react-native-splash-screen')
}
</code></pre>
<span id="more"></span><!-- more -->
<ul>
<li>æ›´æ–° <code>MainApplication.java</code> æ–‡ä»¶</li>
</ul>
<pre><code class="language-plain_text">// react-native-splash-screen &gt;= 0.3.1
import org.devio.rn.splashscreen.SplashScreenReactPackage;
// react-native-splash-screen &lt; 0.3.1
import com.cboy.rn.splashscreen.SplashScreenReactPackage;

public class MainApplication extends Application implements ReactApplication {

    private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {
        @Override
        protected boolean getUseDeveloperSupport() {
            return BuildConfig.DEBUG;
        }

        @Override
        protected List&lt;ReactPackage&gt; getPackages() {
            return Arrays.&lt;ReactPackage&gt;asList(
                    new MainReactPackage(),
            new SplashScreenReactPackage()  //here
            );
        }
    };

    @Override
    public ReactNativeHost getReactNativeHost() {
        return mReactNativeHost;
    }
}
</code></pre>
<h2><a id="%E5%87%86%E5%A4%87%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E5%92%8C%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å‡†å¤‡æ·»åŠ ä»£ç å’Œæ–‡ä»¶é…ç½®</h2>
<ul>
<li><code>app/src/main/res/layout</code> æ–‡ä»¶å¤¹ä¸‹ æ·»åŠ  <code>launch_screen.xml</code> å¹¶copyå¦‚ä¸‹ä»£ç ï¼š</li>
</ul>
<pre><code class="language-plain_text">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:background=&quot;@drawable/launch_screen&quot;&gt;
&lt;/LinearLayout&gt;
</code></pre>
<ul>
<li>
<p>åˆ›å»ºæ–‡ä»¶å¤¹ <code>drawable-xhdpi</code>ã€ <code>drawable-xxhdpi</code>ï¼ˆæš‚æ—¶å…ˆåˆ›å»ºè¿™ä¸¤ä¸ªå°±å¤Ÿäº†ï¼‰ï¼Œå°†å‡†å¤‡å¥½çš„å¯åŠ¨å›¾ å‘½åä¸º <code>launch_screen.png</code> åˆ†åˆ«æ”¾å…¥åˆ›å»ºå¥½çš„æ–‡ä»¶å¤¹</p>
</li>
<li>
<p>ç™½å±é—®é¢˜ï¼Œè®¾ç½®é€æ˜èƒŒæ™¯ï¼š<code>android/app/src/main/res/values/styles.xml</code> æ–‡ä»¶å¤¹ä¸‹ æ·»åŠ  <code>&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;</code></p>
<pre><code class="language-plain_text"></code></pre>
</li>
</ul>
<resources>
    <!-- Base application theme. -->
    <style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar">
        <!-- Customize your theme here. -->
        <!--è®¾ç½®é€æ˜èƒŒæ™¯-->
        <item name="android:windowIsTranslucent">true</item>
    </style>
</resources>
```
<ul>
<li>
<p><code>android/app/src/main/res/values/colors.xml</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text"></code></pre>
</li>
</ul>
<?xml version="1.0" encoding="utf-8"?> <resources> <color name="primary_dark">#660B0B0B</color> </resources>
<pre><code class="language-plain_text">
* é€‚å½“çš„æ—¶åˆ» éšè—å¯åŠ¨å›¾  å¯ä»¥æ˜¯åœ¨è§†å›¾æŒ‚è½½å®Œæ¯•ï¼Œå¯ä»¥æ˜¯ç½‘ç»œè¯·æ±‚ç»“æŸä¹‹å


</code></pre>
<p>import SplashScreen from 'react-native-splash-screen'
componentDidMount() {
SplashScreen.hide();
}</p>
<pre><code class="language-plain_text">
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rect-Native ä¹‹ Promise æ·±å…¥æµ…å‡ºä»å…¥é—¨åˆ°ç²¾é€š]]></title>
    <link href="http://kaelinda.top/15139057022845.html"/>
    
    <updated>2017-12-22T09:21:42+08:00</updated>
    <id>http://kaelinda.top/15139057022845.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h2><a id="%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ¦‚å¿µç†è§£</h2>
<p><figure><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fhp9dw6vxpj307406ewek.jpg" alt="icon" title="React icon" /><figcaption>icon<figcaption></figure></p>
<blockquote>
<p>æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚</p>
</blockquote>
<span id="more"></span><!-- more -->
<h3><a id="promise%E7%8A%B6%E6%80%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promise çŠ¶æ€</h3>
<ul>
<li>Pending è¿›è¡Œä¸­</li>
<li>Resolved å·²å®Œæˆ åˆç§°Fulfilled</li>
<li>Rejected å·²å¤±è´¥</li>
</ul>
<h3><a id="promise%E7%89%B9%E7%82%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promise ç‰¹ç‚¹</h3>
<ul>
<li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–éƒ¨å› ç´ å½±å“ã€‚Promiseå¯¹è±¡ä»£è¡¨çš„æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œåªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœèƒ½å†³å®šPromiseçš„çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½ä¸èƒ½å†³å®šå…¶çŠ¶æ€ã€‚</li>
<li>ä¸€æ—¦Promiseæœ‰äº†ç»“æœçŠ¶æ€å°±ä¸ä¼šå†å˜ã€‚<code>Pending==&gt;Resolved</code>,æˆ–è€…<code>Pending==&gt;Rejected</code></li>
</ul>
<h3><a id="promise%E7%BC%BA%E7%82%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promise ç¼ºç‚¹</h3>
<p>Promiseçš„ç¼ºç‚¹æ˜¯ï¼šä¸€æ—¦å»ºç«‹å°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚</p>
<h2><a id="promise%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promise åŸºæœ¬ç”¨æ³•</h2>
<pre><code class="language-JavaScript">var promise = new Promise(function(resolve, reject) {
  // ... some code

  if (/* å¼‚æ­¥æ“ä½œæˆåŠŸ */){
    resolve(value);
  } else {
    reject(error);
  }
});
</code></pre>
<p>Promiseå¯¹è±¡æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ä½“ã€‚
è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯resolveï¼Œä¸€ä¸ªæ˜¯rejectã€‚è¿™ä¸¤ä¸ªå‚æ•°æ˜¯Promiseè‡ªåŠ¨æä¾›ï¼Œä¸éœ€è¦ä½¿ç”¨è€…ä¼ å€¼ã€‚</p>
<ul>
<li>resolveå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€ï¼ˆå³ä» Pending å˜ä¸º Resolvedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</li>
<li>rejectå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€ï¼ˆå³ä» Pending å˜ä¸º Rejectedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚
Promiseå®ä¾‹ç”Ÿæˆåï¼Œå¯ä»¥ç”¨thenåˆ†åˆ«æŒ‡å®šResolvedå’ŒRejectedçš„å›è°ƒå‡½æ•°ã€‚</li>
</ul>
<pre><code class="language-JavaScript">promise.then(function(value) {
  // success
}, function(error) {
  // failure
});
</code></pre>
<p>thenæ–¹æ³•ä¼šæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‡½æ•°ï¼ŒPromiseçŠ¶æ€å˜æ›´ä¸ºResolvedæ—¶è°ƒç”¨ã€‚</li>
<li>ç¬¬äºŒä¸ªå‡½æ•°ï¼ŒPromiseçŠ¶æ€å˜ä¸ºRejectedæ—¶è°ƒç”¨ã€‚å¯é€‰çš„ï¼Œå¯ä»¥ä¸æä¾›ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯å¼‚æ­¥åŠ è½½å›¾ç‰‡çš„ä¾‹å­ï¼š</p>
<pre><code class="language-JavaScript">function loadImageAsync(url) {
  return new Promise(function(resolve, reject) {
    var image = new Image();

    image.onload = function() {
      resolve(image);
    };

    image.onerror = function() {
      reject(new Error('Could not load image at ' + url));
    };

    image.src = url;
  });
}
</code></pre>
<p>ä¸‹é¢æ˜¯Promiseå®ç°çš„Ajaxæ“ä½œçš„ä¾‹å­ï¼š</p>
<pre><code class="language-JavaScript">var getJSON = function(url) {
  var promise = new Promise(function(resolve, reject){
    var client = new XMLHttpRequest();
    client.open(&quot;GET&quot;, url);
    client.onreadystatechange = handler;
    client.responseType = &quot;json&quot;;
    client.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);
    client.send();
    function handler() {
      if (this.readyState !== 4) {
        return;
      }
      if (this.status === 200) {
        resolve(this.response);
      } else {
        reject(new Error(this.statusText));
      }
    };
  });

  return promise;
};

getJSON(&quot;/posts.json&quot;).then(function(json) {
  console.log('Contents: ' + json);
}, function(error) {
  console.error('å‡ºé”™äº†', error);
});
</code></pre>
<p><strong>æ³¨æ„ï¼šåœ¨getJSONå†…éƒ¨ï¼Œresolveå‡½æ•°å’Œrejectå‡½æ•°è°ƒç”¨æ—¶ï¼Œéƒ½å¸¦æœ‰å‚æ•°ï¼ï¼</strong><br />
å¦‚æœè°ƒç”¨resolveå‡½æ•°å’Œrejectå‡½æ•°æ—¶å¸¦æœ‰å‚æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬çš„å‚æ•°ä¼šè¢«ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚</p>
<ul>
<li>rejectå‡½æ•°çš„å‚æ•°é€šå¸¸æ˜¯Errorå¯¹è±¡çš„å®ä¾‹ï¼Œè¡¨ç¤ºæŠ›å‡ºçš„é”™è¯¯</li>
<li>resolveå‡½æ•°çš„å‚æ•°é™¤äº†æ­£å¸¸çš„å€¼ä»¥å¤–ï¼Œè¿˜å¯èƒ½æ˜¯å¦ä¸€ä¸ª Promise å®ä¾‹ï¼Œè¡¨ç¤ºå¼‚æ­¥æ“ä½œçš„ç»“æœæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å¦ä¸€ä¸ªå¼‚æ­¥æ“ä½œ</li>
</ul>
<pre><code class="language-JavaScript">var p1 = new Promise(function (resolve, reject) {
  // ...
});

var p2 = new Promise(function (resolve, reject) {
  // ...
  resolve(p1);
})
</code></pre>
<p>ä¸Šé¢ğŸ‘†ï¼Œ<code>p1</code>ã€<code>p2</code> éƒ½æ˜¯Promiseï¼Œä½†æ˜¯<code>p2</code>çš„resolveæŠŠ<code>p1</code>ä½œä¸ºè¿”å›å€¼å‚æ•°ä¼ å‡ºå»äº†ï¼Œå³ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„è¿”å›ç»“æœæ˜¯å¦ä¸€ä¸ªå¼‚æ­¥æ“ä½œã€‚ï¼ˆç±»ä¼¼äºiOSå¼€å‘ä¸­çš„è‡ªåŠ¨å¸ƒå±€åº“ <code>Masonry</code>,å¯ä»¥æ— é™ç‚¹è¯­æ³•å–åˆ°å¯¹è±¡ï¼‰ã€‚<br />
<strong>æ³¨æ„ï¼šæ­¤æ—¶ï¼Œp1çš„çŠ¶æ€ä¼šä¼ é€’p2.å¦‚æœp1æ˜¯PendingçŠ¶æ€,é‚£ä¹ˆp2ä¼šç­‰å¾…p1çš„ç»“æœã€‚å¦‚æœp1æ˜¯Rejectæˆ–è€…ResolveçŠ¶æ€ï¼Œé‚£ä¹ˆp2çš„å›è°ƒå‡½æ•°å°†ä¼šç«‹å³æ‰§è¡Œã€‚</strong></p>
<p><strong>å†çœ‹:</strong></p>
<pre><code class="language-JavaScript">var p1 = new Promise(function (resolve, reject) {
  setTimeout(() =&gt; reject(new Error('fail')), 3000)
})

var p2 = new Promise(function (resolve, reject) {
  setTimeout(() =&gt; resolve(p1), 1000)
})

p2.then(result =&gt; console.log(result))
  .catch(error =&gt; console.log(error))
// Error: fail
</code></pre>
<ol>
<li><code>p1</code>ä¼šåœ¨3ç§’åæŠ›å‡ºerrorã€‚</li>
<li><code>p2</code>ä¼šåœ¨1ç§’åæ”¹å˜çŠ¶æ€ã€‚Resolvçš„è¿”å›å€¼æ˜¯<code>p1</code>.</li>
<li>ç”±äº<code>p2</code>çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªPromiseï¼Œå¯¼è‡´<code>p2</code>è‡ªå·±çš„çŠ¶æ€æ— æ•ˆäº†ï¼Œæ­¤æ—¶<code>p2</code>çš„çŠ¶æ€å–å†³äº<code>p1</code>.</li>
<li>æ‰€ä»¥ï¼Œåé¢çš„thenè¯­å¥ï¼Œéƒ½å˜æˆé’ˆå¯¹p1çš„äº†ã€‚</li>
<li>åˆè¿‡äº†<code>2ç§’</code>ï¼Œ<code>p1</code>å˜ä¸º<code>reject</code>ï¼Œå¯¼è‡´è§¦å‘<code>catch</code>æ–¹æ³•ã€‚</li>
</ol>
<h2><a id="3-promise-prototype-then" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. Promise.prototype.then()</h2>
<p><strong>thenæ–¹æ³•æ˜¯å®šä¹‰åœ¨åŸå‹å¯¹è±¡Promise.prototypeä¸Šçš„ã€‚</strong>
ä½œç”¨ï¼šä¸ºPromiseå¯¹è±¡æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ã€‚ç¬¬ä¸€ä¸ªæ˜¯Resolvedï¼Œç¬¬äºŒä¸ªæ˜¯Rejectedã€‚
thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼Œä¸æ˜¯ä¹‹å‰çš„å®ä¾‹ã€‚å› æ­¤ thenæ–¹æ³•åé¢è¿˜å¯ä»¥å†å†™ä¸€ä¸ªthenæ–¹æ³•,å³é“¾å¼è°ƒç”¨ã€‚</p>
<pre><code class="language-JavaScript">getJSON(&quot;/posts.json&quot;).then(function(json) {
  return json.post;
}).then(function(post) {
  // ...
});
</code></pre>
<p>ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°å®Œæˆä»¥åï¼Œä¼šå°†è¿”å›ç»“æœä½œä¸ºå‚æ•°ï¼Œä¼ å…¥ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ã€‚</p>
<pre><code class="language-JavaScript">getJSON(&quot;/post/1.json&quot;).then(function(post) {
  return getJSON(post.commentURL);
}).then(function funcA(comments) {
  console.log(&quot;Resolved: &quot;, comments);
}, function funcB(err){
  console.log(&quot;Rejected: &quot;, err);
});
</code></pre>
<p>ç¬¬ä¸€ä¸ªthenå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ã€‚äºæ˜¯æ‰èƒ½ç»§ç»­è°ƒç”¨thenæ–¹æ³•ã€‚
ç¬¬äºŒä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå°±ä¼šç­‰å¾…è¿™ä¸ªPromiseå¯¹è±¡çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œresolvä¼šè°ƒç”¨funcA,rejectä¼šè°ƒç”¨funcB.</p>
<p>ä¸‹é¢ğŸ‘‡æ˜¯ç®­å¤´å‡½æ•°çš„å®ç°ï¼Œä¼šæ›´ç®€æ´ï¼š</p>
<pre><code class="language-JavaScript">getJSON(&quot;/post/1.json&quot;).then(
  post =&gt; getJSON(post.commentURL)
).then(
  comments =&gt; console.log(&quot;Resolved: &quot;, comments),
  err =&gt; console.log(&quot;Rejected: &quot;, err)
);
</code></pre>
<h2><a id="4-promise-prototype-catch" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>4. Promise.prototype.catch()</h2>
<h3><a id="promise-prototype-catch%E6%96%B9%E6%B3%95%E6%98%AF-then-null-rejection%E7%9A%84%E5%88%AB%E5%90%8D%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E5%8F%91%E7%94%9F%E9%94%99%E8%AF%AF%E6%97%B6%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promise.prototype.catchæ–¹æ³•æ˜¯.then(null, rejection)çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°</h3>
<p><strong>Promise.prototype.catchæ–¹æ³•æ˜¯.then(null, rejection)çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°.</strong></p>
<pre><code class="language-JavaScript">getJSON('/posts.json').then(function(posts) {
  // ...
}).catch(function(error) {
  // å¤„ç† getJSON å’Œ å‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯
  console.log('å‘ç”Ÿé”™è¯¯ï¼', error);
});
</code></pre>
<p>getJSON()æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚å¦‚æœresolvï¼Œä¼šè°ƒç”¨thenæ–¹æ³•ï¼›å¦‚æœrejectåˆ™ä¼šè°ƒç”¨catchæ–¹æ³•ã€‚</p>
<h3><a id="then%E6%96%B9%E6%B3%95%E6%8C%87%E5%AE%9A%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%90%E8%A1%8C%E4%B8%AD%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF%EF%BC%8C%E4%B9%9F%E4%BC%9A%E8%A2%ABcatch%E6%96%B9%E6%B3%95%E6%8D%95%E8%8E%B7" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>thenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå¦‚æœè¿è¡Œä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿä¼šè¢«catchæ–¹æ³•æ•è·</h3>
<p><strong>å¦å¤–ï¼Œthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå¦‚æœè¿è¡Œä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿä¼šè¢«catchæ–¹æ³•æ•è·</strong></p>
<pre><code class="language-JavaScript">p.then((val) =&gt; console.log('fulfilled:', val))
  .catch((err) =&gt; console.log('rejected', err));

// ç­‰åŒäº
p.then((val) =&gt; console.log('fulfilled:', val))
  .then(null, (err) =&gt; console.log(&quot;rejected:&quot;, err));
</code></pre>
<pre><code class="language-plain_text">var promise = new Promise(function(resolve, reject) {
  throw new Error('test');
});
promise.catch(function(error) {
  console.log(error);
});
// Error: test
</code></pre>
<p>Promiseå¯¹è±¡Resolvedï¼Œä½†æ˜¯ResolvedæŒ‡å®šçš„æ–¹æ³•è·‘å‡ºé”™è¯¯ã€‚
Promiseå¯¹è±¡catchæ–¹æ³•èƒ½æ•è·è·‘å‡ºçš„errorã€‚</p>
<h3><a id="reject%E6%96%B9%E6%B3%95%E7%AD%89%E5%90%8C%E4%BA%8E%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>rejectæ–¹æ³•ç­‰åŒäºæŠ›å‡ºé”™è¯¯</h3>
<p>ä¸Šé¢çš„å†™æ³•è·Ÿä¸‹é¢çš„ä¸¤ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼š</p>
<pre><code class="language-plain_text">// å†™æ³•ä¸€
var promise = new Promise(function(resolve, reject) {
  try {
    throw new Error('test');
  } catch(e) {
    reject(e);
  }
});
promise.catch(function(error) {
  console.log(error);
});

// å†™æ³•äºŒ
var promise = new Promise(function(resolve, reject) {
  reject(new Error('test'));
});
promise.catch(function(error) {
  console.log(error);
});
</code></pre>
<p><strong>ç”±æ­¤å¯è§ï¼šrejectæ–¹æ³•ç­‰åŒäºæŠ›å‡ºé”™è¯¯ã€‚</strong></p>
<h3><a id="resolve%E4%B9%8B%E5%90%8E%E5%9C%A8%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF%EF%BC%8Ccatch%E6%98%AF%E6%8D%95%E8%8E%B7%E4%B8%8D%E5%88%B0%E7%9A%84%E4%B8%8D%E5%88%B0%E7%9A%84%E3%80%82" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>resolveä¹‹ååœ¨æŠ›å‡ºé”™è¯¯ï¼Œcatchæ˜¯æ•è·ä¸åˆ°çš„ä¸åˆ°çš„ã€‚</h3>
<pre><code class="language-plain_text">var promise = new Promise(function(resolve, reject) {
  resolve('ok');
  throw new Error('test');
});
promise
  .then(function(value) { console.log(value) })
  .catch(function(error) { console.log(error) });
// ok
</code></pre>
<p><strong>resolveä¹‹ååœ¨æŠ›å‡ºé”™è¯¯ï¼Œcatchæ˜¯æ•è·ä¸åˆ°çš„ä¸åˆ°çš„ã€‚</strong></p>
<h3><a id="promise%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%94%99%E8%AF%AF%E5%85%B7%E6%9C%89%E2%80%9C%E5%86%92%E6%B3%A1%E2%80%9D%E6%80%A7%E8%B4%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promise å¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨</h3>
<p><strong>Promise å¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨,ä¼šä¸€ç›´å‘åä¼ é€’ï¼Œç›´åˆ°è¢«æ•è·ä¸ºæ­¢ ------ é”™è¯¯æ€»æ˜¯ä¼šè¢«ä¸‹ä¸€ä¸ªcatchè¯­å¥æ•è·</strong></p>
<blockquote>
<p>ä¸¾ä¸ªæ —å­ï¼šå°±åƒæ˜¯YæŸ“è‰²ä½“ä¸Šå—ç¯å¢ƒè§¦å‘çš„é—ä¼ ç–¾ç—…ï¼Œä¼šä¸æ–­çš„é—ä¼ ç»™ç”·æ€§åä»£ï¼Œä»»æ„ä¸€ä¸ªç”·æ€§éƒ½ä¼šè¢«ç‰¹æ®Šçš„ç¯å¢ƒè§¦å‘ã€‚</p>
</blockquote>
<pre><code class="language-plain_text">getJSON('/post/1.json').then(function(post) {
  return getJSON(post.commentURL);
}).then(function(comments) {
  // some code
}).catch(function(error) {
  // å¤„ç†å‰é¢ä¸‰ä¸ªPromiseäº§ç”Ÿçš„é”™è¯¯
});
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­æœ‰ä¸‰ä¸ªPromiseï¼Œç¬¬ä¸€ä¸ªç”±getJSONäº§ç”Ÿï¼Œåä¸¤ä¸ªç”±thenäº§ç”Ÿã€‚ä»–ä»¬ä¹‹ä¸­çš„ä»»ä½•ä¸€ä¸ªæŠ›å‡ºé”™è¯¯ï¼Œéƒ½ä¼šè¢«catchæ•è·ã€‚</p>
<p>ä¸€èˆ¬æ¥è®²ï¼Œå°½é‡ä¸è¦å®šä¹‰Promiseçš„rejectçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œæœ€å¥½æ€»æ˜¯ä½¿ç”¨catchå‡½æ•°ï¼Œå› ä¸ºcatchå‡½æ•°ä¸ä»…èƒ½æ•è·åˆ°rejectçŠ¶æ€ï¼Œè¿˜èƒ½æ•è·åˆ°resolveçŠ¶æ€æŒ‡å®šæ–¹æ³•ä¸‹æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p>
<h3><a id="promise%E5%AF%B9%E8%B1%A1%E6%8A%9B%E5%87%BA%E7%9A%84%E9%94%99%E8%AF%AF%E4%B8%8D%E4%BC%9A%E4%BC%A0%E9%80%92%E5%88%B0%E5%A4%96%E5%B1%82%E4%BB%A3%E7%A0%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promiseå¯¹è±¡æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šä¼ é€’åˆ°å¤–å±‚ä»£ç </h3>
<p>å¦‚æœæ²¡æœ‰ä½¿ç”¨catchæ–¹æ³•æŒ‡å®šé”™è¯¯å¤„ç†çš„å›è°ƒå‡½æ•°ï¼ŒPromiseå¯¹è±¡æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šä¼ é€’åˆ°å¤–å±‚ä»£ç ï¼Œå³ä¸ä¼šæœ‰ä»»ä½•ååº”ï¼Œè¿™ä¸€ç‚¹ä¸Šè·Ÿä¼ ç»Ÿçš„try/catchä»£ç å—ä¸åŒçš„ã€‚</p>
<pre><code class="language-plain_text">process.on('unhandledRejection', function (err, p) {
  console.error(err.stack)
});
</code></pre>
<p>æ—¶é—´çš„ç›‘å¬å‡½æ•°â€˜unhandledRejectionâ€™,æœ‰ä¸¤ä¸ªå‚æ•°ï¼š
ç¬¬ä¸€ä¸ªæ˜¯é”™è¯¯å¯¹è±¡
ç¬¬äºŒä¸ªæ˜¯æŠ¥é”™çš„Promiseå®ä¾‹</p>
<p>catchæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå®ä¾‹ï¼Œæ‰€ä»¥åé¢è¿˜æ˜¯å¯ä»¥æ— é™çš„è°ƒç”¨thenæ–¹æ³•ã€‚
å¦‚æœcatchå‡½æ•°åœ¨å‡ ä¸ªthenä¸­é—´ï¼ŒäºŒæ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ²¡æœ‰rejectçŠ¶æ€ï¼Œé‚£ä¹ˆä¼šè·³è¿‡è¿™ä¸ªä¸­é—´çš„catchæ–¹æ³•ã€‚</p>
<h3><a id="catch%E6%96%B9%E6%B3%95%E4%B8%AD%E4%B9%9F%E8%83%BD%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>catchæ–¹æ³•ä¸­ä¹Ÿèƒ½æŠ›å‡ºé”™è¯¯</h3>
<pre><code class="language-plain_text">var someAsyncThing = function() {
  return new Promise(function(resolve, reject) {
    // ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºxæ²¡æœ‰å£°æ˜
    resolve(x + 2);
  });
};

someAsyncThing().then(function() {
  return someOtherAsyncThing();
}).catch(function(error) {
  console.log('oh no', error);
  // ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºyæ²¡æœ‰å£°æ˜
  y + 2;
}).then(function() {
  console.log('carry on');
});
// oh no [ReferenceError: x is not defined]
</code></pre>
<p>å¦‚ä¸Šï¼šcatchæ–¹æ³•æŒ‡å®šçš„å‡½æ•°ä¾æ—§æ˜¯å¯ä»¥æŠ›å‡ºErrorçš„ï¼Œä½†æ˜¯å› ä¸ºåé¢æ²¡æœ‰ç»§ç»­è·Ÿè¿›catchæ–¹æ³•ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰è¢«æ•è·ã€‚</p>
<h2><a id="5-promise-all" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>5. Promise.all()</h2>
<p><strong>Promise.allæ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚</strong></p>
<pre><code class="language-plain_text">var p = Promise.all([p1, p2, p3]);
</code></pre>
<p>Promise.allæ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œp1ã€p2ã€p3éƒ½æ˜¯ Promise å®ä¾‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolveæ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®ä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚
ï¼ˆPromise.allæ–¹æ³•çš„å‚æ•°å¯ä»¥ä¸æ˜¯æ•°ç»„ï¼Œä½†å¿…é¡»å…·æœ‰ Iterator æ¥å£ï¼Œä¸”è¿”å›çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ Promise å®ä¾‹ã€‚ï¼‰</p>
<p>pçš„çŠ¶æ€ç”±p1ã€p2ã€p3å†³å®šï¼Œåˆ†æˆä¸¤ç§æƒ…å†µ:</p>
<ul>
<li>åªæœ‰p1ã€p2ã€p3çš„çŠ¶æ€éƒ½å˜æˆfulfilledï¼Œpçš„çŠ¶æ€æ‰ä¼šå˜æˆfulfilledï¼Œæ­¤æ—¶p1ã€p2ã€p3çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°</li>
<li>åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«rejectedï¼Œpçš„çŠ¶æ€å°±å˜æˆrejectedï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«rejectçš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°</li>
</ul>
<p><strong>æ³¨æ„ï¼Œå¦‚æœä½œä¸ºå‚æ•°çš„ Promise å®ä¾‹ï¼Œè‡ªå·±å®šä¹‰äº†catchæ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä¸€æ—¦è¢«rejectedï¼Œå¹¶ä¸ä¼šè§¦å‘Promise.all()çš„catchæ–¹æ³•ã€‚</strong></p>
<pre><code class="language-plain_text">const p1 = new Promise((resolve, reject) =&gt; {
  resolve('hello');
})
.then(result =&gt; result)
.catch(e =&gt; e);

const p2 = new Promise((resolve, reject) =&gt; {
  throw new Error('æŠ¥é”™äº†');
})
.then(result =&gt; result)
.catch(e =&gt; e);

Promise.all([p1, p2])
.then(result =&gt; console.log(result))
.catch(e =&gt; console.log(e));
// [&quot;hello&quot;, Error: æŠ¥é”™äº†]
</code></pre>
<p>p1ä¼šresolvedï¼Œp2é¦–å…ˆä¼šrejected.
p2æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œå¹¶ä¸”æ‰§è¡Œäº†ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promiseï¼Œå¹¶ä¸”è¿™ä¸ªPromiseçš„çŠ¶æ€ä¼šå˜æˆResolvedã€‚
æ‰€ä»¥ï¼šPromise.all()çš„catchæ–¹æ³•å¹¶ä¸èƒ½æ•è·åˆ°è¿™ä¸ªerrorã€‚
p2æ²¡æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨Promise.all()çš„catchæ–¹æ³•ã€‚</p>
<h2><a id="6-promise-race" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>6. Promise.race()</h2>
<p>Promise.raceæ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚</p>
<pre><code class="language-plain_text">var p = Promise.race([p1, p2, p3]);
</code></pre>
<p>p1/p2/p3ä¸­åªè¦æœ‰ä¸€ä¸ªç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œpçš„çŠ¶æ€å°±ä¼šéšç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çŠ¶æ€çš„å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼šä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚</p>
<pre><code class="language-plain_text">const p = Promise.race([
  fetch('/resource-that-may-take-a-while'),
  new Promise(function (resolve, reject) {
    setTimeout(() =&gt; reject(new Error('request timeout')), 5000)
  })
]);
p.then(response =&gt; console.log(response));
p.catch(error =&gt; console.log(error));
</code></pre>
<p>5ç§’å†…æ— æ³•è¿”å›è¯·æ±‚ç»“æœï¼Œå˜é‡pçš„çŠ¶æ€å°±ä¼šå˜ä¸ºrejectã€‚è¿™ä¹Ÿç®—æ˜¯ç«é€Ÿçš„ä¸€ç§åº”ç”¨åœºæ™¯ã€‚</p>
<h2><a id="7-promise-resolve" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>7. Promise.resolve()</h2>
<p>æœ‰æ—¶éœ€è¦å°†ç°æœ‰å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ï¼ŒPromise.resolveæ–¹æ³•å°±èµ·åˆ°è¿™ä¸ªä½œç”¨.</p>
<pre><code class="language-plain_text">var jsPromise = Promise.resolve($.ajax('/whatever.json'));
</code></pre>
<p>ç­‰ä»·äºä¸‹é¢çš„è¯´æ³•ï¼š</p>
<pre><code class="language-plain_text">Promise.resolve('foo')
// ç­‰ä»·äº
new Promise(resolve =&gt; resolve('foo'))
</code></pre>
<p>Promise çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œå‡½æ•°çš„ä¼ å…¥å‚æ•°æ˜¯resolveï¼ˆå‡½æ•°ï¼‰ï¼Œå‡½æ•°ä½“å°±æ˜¯è°ƒç”¨ä¼ å…¥çš„å‡½æ•°resolveï¼Œresolveè°ƒç”¨çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œæ­¤æ—¶è¿™ä¸ªå‚æ•°å°±æ˜¯å’±ä»¬éœ€è¦è½¬å˜æˆPromiseå¯¹è±¡çš„é‚£ä¸ªå‚æ•°ã€‚</p>
<p>Promise.resolveçš„å‚æ•°æœ‰å››ç§æƒ…å†µï¼š</p>
<ol>
<li>å‚æ•°æ˜¯ä¸€ä¸ªPromiseå®ä¾‹</li>
<li>å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡ï¼ˆæœ‰thenæ–¹æ³•çš„å®ä¾‹ï¼‰</li>
<li>å‚æ•°æ˜¯ä¸å…·å¤‡thenæ–¹æ³•dçš„å¯¹è±¡åº”è¯¥</li>
<li>ä¸å¸¦å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªResolvedçš„è¿”å›çŠ¶æ€ã€‚</li>
</ol>
<h2><a id="8%E3%80%81promise-reject%E5%90%8C%E4%B8%8A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>8ã€Promise.reject()   åŒä¸Š</h2>
<h2><a id="9%E3%80%81%E4%B8%A4%E4%B8%AA%E5%B8%B8%E7%94%A8%E9%99%84%E5%8A%A0%E6%96%B9%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>9ã€ä¸¤ä¸ªå¸¸ç”¨é™„åŠ æ–¹æ³•</h2>
<h3><a id="done" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>done()</h3>
<p>Promiseçš„é”™è¯¯å¹¶ä¸ä¼šå†’æ³¡åˆ°å…¨å±€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æä¾›ä¸€ä¸ªdoneæ–¹æ³•æ€»æ˜¯å¤„äºä¼šåŠé“¾çš„å°¾ç«¯ã€‚</p>
<pre><code class="language-plain_text">asyncFunc()
  .then(f1)
  .catch(r1)
  .then(f2)
  .done();
</code></pre>
<p>doneæ–¹æ³•çš„ä½¿ç”¨ï¼Œå¯ä»¥åƒthenæ–¹æ³•é‚£æ ·ç”¨ï¼Œæä¾›Fulfilledå’ŒRejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä¸æä¾›ä»»ä½•å‚æ•°ã€‚ä½†ä¸ç®¡æ€æ ·ï¼Œdoneéƒ½ä¼šæ•æ‰åˆ°ä»»ä½•å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œå¹¶å‘å…¨å±€æŠ›å‡º.</p>
<h3><a id="finally" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>finally()</h3>
<p>finallyæ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡Promiseå¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚å®ƒä¸doneæ–¹æ³•çš„æœ€å¤§åŒºåˆ«ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ™®é€šçš„å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¸ç®¡æ€æ ·éƒ½å¿…é¡»æ‰§è¡Œã€‚</p>
<pre><code class="language-plain_text">Promise.prototype.finally = function (callback) {
  let P = this.constructor;
  return this.then(
    value  =&gt; P.resolve(callback()).then(() =&gt; value),
    reason =&gt; P.resolve(callback()).then(() =&gt; { throw reason })
  );
};
</code></pre>
<h3><a id="promis-try" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promis.try()</h3>
<pre><code class="language-plain_text">try {
  database.users.get({id: userId})
  .then(...)
  .catch(...)
} catch (e) {
  // ...
}
</code></pre>
<pre><code class="language-plain_text">Promise.try(database.users.get({id: userId}))
  .then(...)
  .catch(...)
</code></pre>
<p>Promise.tryå°±æ˜¯æ¨¡æ‹Ÿtryä»£ç å—ï¼Œå°±åƒpromise.catchæ¨¡æ‹Ÿçš„æ˜¯catchä»£ç å—.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ES6 ç¬”è®°ï¼ˆArrayï¼‰]]></title>
    <link href="http://kaelinda.top/15137645005542.html"/>
    
    <updated>2017-12-20T18:08:20+08:00</updated>
    <id>http://kaelinda.top/15137645005542.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h2><a id="array" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>array</h2>
<ol>
<li>
<p>Array.from
å°†ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like objectï¼‰å’Œå¯éå†ï¼ˆiterableï¼‰çš„å¯¹è±¡ è½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<ul>
<li>ç±»æ•°ç»„ï¼šæœ‰ lengthå±æ€§çš„å¯¹è±¡</li>
<li>å¯éå†ï¼šåŒ…å«Set Map.</li>
</ul>
</li>
<li>
<p>Array.of
è¯¥æ–¹æ³•ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
</li>
</ol>
<span id="more"></span><!-- more -->
<ol start="3">
<li>
<p>copyWithin
åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ã€‚</p>
<ul>
<li>targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚</li>
<li>startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</li>
<li>endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</li>
</ul>
</li>
<li>
<p>æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()
ç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ã€‚
ç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ã€‚</p>
</li>
<li>
<p>fill
æ–¹æ³•ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„ã€‚
['a', 'b', 'c'].fill(7, 1, 2)
// ['a', 7, 'c'];// å·¦é—­å³å¼€</p>
</li>
<li>
<p>æ•°ç»„å®ä¾‹çš„entries()ï¼Œkeys()å’Œvalues()
keys()æ˜¯å¯¹é”®åçš„éå†
values()æ˜¯å¯¹é”®å€¼çš„éå†
entries()æ˜¯å¯¹é”®å€¼å¯¹çš„éå†</p>
</li>
<li>
<p>Array.prototype.includesæ–¹æ³•
è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ã€‚
[1, 2, 3].includes(3, -1); // true
3:å°†è¦æœç´¢çš„item
-1ï¼šæœç´¢çš„èµ·å§‹ä½ç½®</p>
</li>
<li>
<p>æ•°ç»„çš„ç©ºä½
æ•°ç»„çš„ç©ºä½æŒ‡ï¼Œæ•°ç»„çš„æŸä¸€ä¸ªä½ç½®æ²¡æœ‰ä»»ä½•å€¼ã€‚</p>
</li>
</ol>
<p>ç©ºä½ä¸æ˜¯undefinedï¼Œundefinedæ˜¯æœ‰å€¼çš„ã€‚
ç©ºä½æ˜¯æ²¡æœ‰ä»»ä½•å€¼ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ES6 ç¬”è®°ï¼ˆå¸¸é‡&&å˜é‡ï¼‰]]></title>
    <link href="http://kaelinda.top/15137627946753.html"/>
    
    <updated>2017-12-20T17:39:54+08:00</updated>
    <id>http://kaelinda.top/15137627946753.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h2><a id="%E5%8F%98%E9%87%8F%E5%B8%B8%E9%87%8F" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å˜é‡&amp;&amp;å¸¸é‡</h2>
<h3><a id="%E6%96%B0%E7%89%B9%E6%80%A7" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ–°ç‰¹æ€§</h3>
<ol>
<li>
<p>ES6 æ–°å¢äº†letå‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡ã€‚å®ƒçš„ç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚</p>
</li>
<li>
<p>å˜é‡æå‡ï¼švarå‘½ä»¤ä¼šå‘ç”Ÿâ€å˜é‡æå‡â€œç°è±¡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ï¼Œå€¼ä¸ºundefinedï¼›ä¸ºäº†çº æ­£è¿™ç§ç°è±¡ï¼Œletå‘½ä»¤æ”¹å˜äº†è¯­æ³•è¡Œä¸ºï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p>
</li>
<li>
<p>æš‚æ—¶æ€§æ­»åŒºï¼šåœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨letå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚è¿™åœ¨è¯­æ³•ä¸Šï¼Œç§°ä¸ºâ€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼›</p>
</li>
</ol>
<span id="more"></span><!-- more -->
<pre><code class="language-plain_text">```
var tmp = 123;

if (true) {
tmp = 'abc'; // ReferenceError  æ­»åŒº
let tmp;
}
```

&gt; letä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚
</code></pre>
<h3><a id="%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å—çº§ä½œç”¨åŸŸ</h3>
<ul>
<li>å†…å±‚ä½œç”¨åŸŸå¯ä»¥å®šä¹‰å¤–å±‚ä½œç”¨åŸŸçš„åŒåå˜é‡ã€‚</li>
<li>å†…éƒ¨ä½œç”¨åŸŸ  é‡åå˜é‡  ä¸ä¼šå½±å“ï¼Œ</li>
<li>ES6 å¼•å…¥äº†å—çº§ä½œç”¨åŸŸï¼Œæ˜ç¡®å…è®¸åœ¨å—çº§ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜å‡½æ•°ï¼ˆES5ä¸å…è®¸ï¼‰ã€‚ES6 è§„å®šï¼Œå—çº§ä½œç”¨åŸŸä¹‹ä¸­ï¼Œå‡½æ•°å£°æ˜è¯­å¥çš„è¡Œä¸ºç±»ä¼¼äºletï¼Œåœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¸å¯å¼•ç”¨ã€‚</li>
<li>å‡½æ•°å£°æ˜ç±»ä¼¼äºvarï¼Œå³ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚</li>
<li>å‡½æ•°å£°æ˜è¿˜ä¼šæå‡åˆ°æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚</li>
</ul>
<blockquote>
<p>å—çº§ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªè¯­å¥ï¼Œå°†å¤šä¸ªæ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚
åœ¨å—çº§ä½œç”¨åŸŸä¹‹å‰åŠ ä¸Šdoï¼Œä½¿å®ƒå˜ä¸ºdoè¡¨è¾¾å¼ã€‚ä¼šå¾—åˆ°æ•´ä¸ªå—çº§ä½œç”¨åŸŸçš„è¿”å›å€¼</p>
</blockquote>
<h3><a id="const" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>const:</h3>
<ul>
<li>
<p>constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p>
</li>
<li>
<p>constä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚</p>
</li>
<li>
<p>constçš„ä½œç”¨åŸŸä¸letå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚</p>
</li>
<li>
<p>constå‘½ä»¤å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ã€‚</p>
</li>
<li>
<p>constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨</p>
</li>
<li>
<p>å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚</p>
</li>
<li>
<p>å¦‚æœçœŸçš„æƒ³å°†å¯¹è±¡å†»ç»“ï¼Œåº”è¯¥ä½¿ç”¨Object.freezeæ–¹æ³•</p>
</li>
</ul>
<pre><code class="language-JavaScript">//å†»ç»“å¯¹è±¡å±æ€§ï¼š
var constantize = (obj) =&gt; {
  Object.freeze(obj);
  Object.keys(obj).forEach( (key, i) =&gt; {
    if ( typeof obj[key] === 'object' ) {
      constantize( obj[key] );
    }
  });
};
</code></pre>
<h3><a id="%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å˜é‡å£°æ˜ï¼š</h3>
<blockquote>
<p>ES5 åªæœ‰ä¸¤ç§å£°æ˜å˜é‡çš„æ–¹æ³•ï¼švarå‘½ä»¤å’Œfunctionå‘½ä»¤ã€‚ES6é™¤äº†æ·»åŠ letå’Œconstå‘½ä»¤ï¼Œåé¢ç« èŠ‚è¿˜ä¼šæåˆ°ï¼Œå¦å¤–ä¸¤ç§å£°æ˜å˜é‡çš„æ–¹æ³•ï¼šimportå‘½ä»¤å’Œclasså‘½ä»¤ã€‚æ‰€ä»¥ï¼ŒES6 ä¸€å…±æœ‰6ç§å£°æ˜å˜é‡çš„æ–¹æ³•</p>
</blockquote>
<ul>
<li>é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼š
ES5ä¸­ é¡¶å±‚å¯¹è±¡çš„å±æ€§  å’Œ å…¨å±€å˜é‡æ˜¯ä¸€å›äº‹å„¿ï¼›å…¨å±€å˜é‡æ˜¯é™æ€åˆ›å»ºï¼Œè€Œå¯¹è±¡å±æ€§æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼›ä¸åˆç†ã€‚
ES6ä¸­ var function å£°æ˜çš„å…¨å±€å˜é‡ ä¾ç„¶æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›ä½†æ˜¯ let const classå£°æ˜çš„å…¨å±€å˜é‡ ä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚</li>
</ul>
<!-- more -->
<ul>
<li>å…¨å±€ç¯å¢ƒä¸­ï¼Œthisä¼šè¿”å›é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼ŒNodeæ¨¡å—å’ŒES6æ¨¡å—ä¸­ï¼Œthisè¿”å›çš„æ˜¯å½“å‰æ¨¡å—ã€‚</li>
<li>å‡½æ•°é‡Œé¢çš„thisï¼Œå¦‚æœå‡½æ•°ä¸æ˜¯ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¿è¡Œï¼Œè€Œæ˜¯å•çº¯ä½œä¸ºå‡½æ•°è¿è¡Œï¼Œthisä¼šæŒ‡å‘é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™æ—¶thisä¼šè¿”å›undefinedã€‚</li>
<li>ä¸ç®¡æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œè¿˜æ˜¯æ™®é€šæ¨¡å¼ï¼Œnew Function('return this')()ï¼Œæ€»æ˜¯ä¼šè¿”å›å…¨å±€å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå¦‚æœæµè§ˆå™¨ç”¨äº†CSPï¼ˆContent Security Policyï¼Œå†…å®¹å®‰å…¨æ”¿ç­–ï¼‰ï¼Œé‚£ä¹ˆevalã€new Functionè¿™äº›æ–¹æ³•éƒ½å¯èƒ½æ— æ³•ä½¿ç”¨ã€‚</li>
</ul>
<pre><code class="language-JavaScript">// æ–¹æ³•ä¸€
(typeof window !== 'undefined'
   ? window
   : (typeof process === 'object' &amp;&amp;
      typeof require === 'function' &amp;&amp;
      typeof global === 'object')
     ? global
     : this);

// æ–¹æ³•äºŒ
var getGlobal = function () {
  if (typeof self !== 'undefined') { return self; }
  if (typeof window !== 'undefined') { return window; }
  if (typeof global !== 'undefined') { return global; }
  throw new Error('unable to locate global object');
};
</code></pre>
<p>// ES6æ¨¡å—çš„å†™æ³•
import getGlobal from 'system.global';
const global = getGlobal();</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ES6ç¬”è®°ï¼ˆè§£æ„èµ‹å€¼ï¼‰]]></title>
    <link href="http://kaelinda.top/15137621729153.html"/>
    
    <updated>2017-12-20T17:29:32+08:00</updated>
    <id>http://kaelinda.top/15137621729153.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h2><a id="%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è§£æ„èµ‹å€¼</h2>
<h3><a id="%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å˜é‡çš„è§£æ„ï¼š</h3>
<ul>
<li>è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼ã€‚</li>
<li>è§£æ„èµ‹å€¼å¿…é¡»ä¿è¯èµ‹å€¼æ–¹  è¢«èµ‹å€¼æ–¹ç±»å‹ä¸€ç›´  ä½†Itemå…è®¸æœ‰é—æ¼æˆ–è€…å¤šå‡ºã€‚</li>
<li>é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜</li>
</ul>
<pre><code class="language-plain_text">let [x = 1, y = x] = [];     // x=1; y=1
let [x = y, y = 1] = [];     // ReferenceError
</code></pre>
<span id="more"></span><!-- more -->
<h3><a id="%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¯¹è±¡çš„ è§£æ„èµ‹å€¼ï¼š</h3>
<ul>
<li>
<p>å¯¹è±¡çš„è§£æ„ä¸æ•°ç»„æœ‰ä¸€ä¸ªé‡è¦çš„ä¸åŒã€‚æ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®šï¼›</p>
</li>
<li>
<p>è€Œå¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼
ï¼ˆæ•°æ®åº“ã€åºåˆ—åŒ–ï¼‰</p>
</li>
<li>
<p>å¯¹è±¡çš„è§£æ„èµ‹å€¼çš„å†…éƒ¨æœºåˆ¶ï¼Œæ˜¯å…ˆæ‰¾åˆ°åŒåå±æ€§ï¼Œç„¶åå†èµ‹ç»™å¯¹åº”çš„å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯åè€…ï¼Œè€Œä¸æ˜¯å‰è€…ï¼›å‰è€…æ˜¯key,åè€…æ‰æ˜¯å˜é‡ï¼</p>
</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼Œé‡‡ç”¨è¿™ç§å†™æ³•æ—¶ï¼Œå˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ˜¯ä¸€ä½“çš„ã€‚å¯¹äºletå’Œconstæ¥è¯´ï¼Œå˜é‡ä¸èƒ½é‡æ–°å£°æ˜ï¼Œæ‰€ä»¥ä¸€æ—¦èµ‹å€¼çš„å˜é‡ä»¥å‰å£°æ˜è¿‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<h3><a id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</h3>
<blockquote>
<p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚
è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡
ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªlengthå±æ€§ï¼Œå› æ­¤è¿˜å¯ä»¥å¯¹è¿™ä¸ªå±æ€§è§£æ„èµ‹å€¼ã€‚</p>
</blockquote>
<pre><code class="language-JavaScript">let {length : len} = 'hello';
len // 5

let {toString: s} = 123;
s === Number.prototype.toString // true

let {toString: s} = true;
s === Boolean.prototype.toString // true

let { prop: x } = undefined; // TypeError
let { prop: y } = null; // TypeError
</code></pre>
<p>è§£æ„èµ‹å€¼æ—¶ï¼Œå¦‚æœç­‰å·å³è¾¹æ˜¯æ•°å€¼å’Œå¸ƒå°”å€¼ï¼Œåˆ™ä¼šå…ˆè½¬ä¸ºå¯¹è±¡ã€‚
undefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¯¹å®ƒä»¬è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚</p>
<ul>
<li>ä¸èƒ½ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ
<ul>
<li>å˜é‡å£°æ˜è¯­å¥ä¸­ï¼Œä¸èƒ½å¸¦æœ‰åœ†æ‹¬å·</li>
<li>å‡½æ•°å‚æ•°ä¸­ï¼Œæ¨¡å¼ä¸èƒ½å¸¦æœ‰åœ†æ‹¬å·ã€‚</li>
<li>èµ‹å€¼è¯­å¥ä¸­ï¼Œä¸èƒ½å°†æ•´ä¸ªæ¨¡å¼ï¼Œæˆ–åµŒå¥—æ¨¡å¼ä¸­çš„ä¸€å±‚ï¼Œæ”¾åœ¨åœ†æ‹¬å·ä¹‹ä¸­</li>
</ul>
</li>
<li>å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µåªæœ‰ä¸€ç§ï¼šèµ‹å€¼è¯­å¥çš„<strong>éæ¨¡å¼éƒ¨åˆ†</strong>ï¼Œå¯ä»¥ä½¿ç”¨åœ†æ‹¬å·ã€‚</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React Native é›†æˆ Redux]]></title>
    <link href="http://kaelinda.top/15115315701641.html"/>
    
    <updated>2017-11-24T21:52:50+08:00</updated>
    <id>http://kaelinda.top/15115315701641.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h2><a id="%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è¯¾ç¨‹ä»‹ç»</h2>
<ul>
<li>Flux/reFlux/Redux</li>
<li>ç®€å•/å•ä¸€çŠ¶æ€æ ‘</li>
</ul>
<ul>
<li>
<p>react å’Œ redux æ•°æ®æµçš„å…³ç³»</p>
</li>
<li>
<p>JSã€CSSã€HTML</p>
</li>
<li>
<p>JSX</p>
</li>
<li>
<p>webpack æ„å»º</p>
</li>
</ul>
<h2><a id="%E6%95%B0%E6%8D%AE%E6%B5%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ•°æ®æµ</h2>
<ul>
<li>MVC çŠ¶æ€å¤æ‚ä¹‹åï¼Œactionä¼šè§¦å‘äº‹ä»¶ å¹¶ä¸”ä¸å¯é¢„æµ‹</li>
<li>flux: state Tree will send data to view,but view can't send data to state-tree.</li>
<li>Redux :  state æ˜¯åŒ…å«åœ¨storeä¸­çš„</li>
</ul>
<span id="more"></span><!-- more -->
<h2><a id="%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®‰è£…</h2>
<pre><code class="language-plain_text">npm install react
npm install redux react-redux --save
</code></pre>
<h2><a id="%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B%EF%BC%88%E9%80%9F%E6%88%90%E7%89%88%E6%9C%AC%EF%BC%89%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¿«é€Ÿå¼€å§‹ï¼ˆé€Ÿæˆç‰ˆæœ¬ï¼‰ï¼š</h2>
<h3><a id="%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ ¸å¿ƒæ¦‚å¿µ</h3>
<ul>
<li><code>action</code> : Reactè¡Œä¸º/å˜åŒ–çš„æè¿° æ˜¯ä¸€ä¸ªå¯¹è±¡</li>
<li><code>dispatch</code> : æ´¾å‘ç”¨æˆ·è¡Œä¸ºçš„ä¸€ä¸ªæ–¹æ³• <code>store</code>çš„ä¸€ä¸ªå±æ€§</li>
<li><code>reducer</code> : æ¥æ”¶<code>action</code>,å¹¶è¿›è¡Œç®€å•çš„æ‹¼æ¥ï¼Œå…¶å†…éƒ¨æ˜¯<code>çº¯å‡½æ•°</code>ï¼ˆåˆ°åº•ä»€ä¹ˆæ˜¯çº¯å‡½æ•°è¯·ç§»æ­¥ç™¾åº¦ ï¼š <a href="https://www.baidu.com/s?wd=%E7%BA%AF%E5%87%BD%E6%95%B0">ä¼ é€é—¨</a> ã€ <a href="http://blog.csdn.net/hongweigg/article/details/44035283">é€Ÿè¾¾ä¼ é€é—¨</a>ï¼‰</li>
<li><code>store</code> :å­˜å‚¨æ•°æ®çš„åœ°æ–¹</li>
</ul>
<h3><a id="get-start" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get start:</h3>
<ul>
<li>
<p>step1 : <strong>å®‰è£…ä¾èµ–</strong></p>
<pre><code class="language-plain_text">npm install redux react-redux --save
</code></pre>
</li>
<li>
<p>step2 : åˆ›å»ºä¸€ä¸ª AppProvider.js å¹¶å¯¼å‡ºAppProviderç»„ä»¶ ï¼š  <strong>AppProvider ä½œä¸ºAPPçš„å…¥å£ç»„ä»¶</strong></p>
<pre><code class="language-plain_text">export default AppProvider;
</code></pre>
</li>
<li>
<p>step3 : AppProvider.js ä¸­å¯¼å…¥å¤´æ–‡ä»¶</p>
<pre><code class="language-plain_text">    import { Provider } from 'react-redux';    
    import { createStore } from 'redux';
</code></pre>
</li>
<li>
<p>step4 : å‡†å¤‡AppProviderçš„åŒ…è£…æ•°æ®ï¼š</p>
<ul>
<li>
<p>åˆ›å»ºå…¨å±€çš„storeç”¨äºå­˜å‚¨çŠ¶æ€,å¹¶ç»‘å®š<strong>reducer</strong></p>
<pre><code class="language-plain_text">const store = createStore(AppReducer)
</code></pre>
</li>
<li>
<p>åŒ…è£…APPProviderï¼š</p>
<pre><code class="language-plain_text">const AppProvider = () =&gt; {
    return (
      //KR-1 åŒ…è£¹ä¸€å±‚Provider   ä¹‹åè¿›å…¥è¢«åŒ…è£¹æ§ä»¶å†…éƒ¨ è¿›è¡Œå…³è”å¤„ç†
        &lt;Provider store={store}&gt;
            &lt;RootStack /&gt;
        &lt;/Provider&gt;
    )
};
</code></pre>
</li>
<li>
<p>index.ios.js æ–‡ä»¶ä¸­æ³¨å†Œä¸‹ AppProviderå¯¹è±¡</p>
<pre><code class="language-plain_text">AppRegistry.registerComponent('XinLiFM', () =&gt; AppProvider);
</code></pre>
</li>
</ul>
</li>
<li>
<p>step5 : <strong>æ•°æ®ç»‘å®š</strong> æ‰¾åˆ°æ‰“ç®—æœ‰ æ•°æ®æµä¼ é€’ çš„å¯¹è±¡ AppFind</p>
<ul>
<li>
<p>å¯¼å…¥å¤´æ–‡ä»¶ï¼š</p>
<pre><code class="language-plain_text">import { connect } from 'react-redux';
</code></pre>
</li>
<li>
<p>ç»‘å®šæ•°æ®ï¼š</p>
<pre><code class="language-plain_text">//ç”¨æ¥è·å–æ›´æ–°åçš„æ•°æ®   ç›‘å¬æ•°æ®æ›´æ–°
const mapStateToProps = (state,ownProps) =&gt; {
    console.log(state);
    return {
        testShow: state.find.testShow,
     }
}

//ç”¨æ¥æ´¾å‘æ¶ˆæ¯
const mapDispatchToProps = (dispatch,ownProps) =&gt; ({
  changeTabBar: (...args) =&gt; dispatch(showTabBar(...args)),
});

//ç”¨æ¥è¿›è¡Œæ•°æ®æµ  å’Œ  æ§ä»¶çš„ç»‘å®šå…³ç³»
export default connect(mapStateToProps,mapDispatchToProps)(AppFind)

</code></pre>
</li>
<li>
<p>æ´¾å‘æ¶ˆæ¯ï¼š</p>
</li>
</ul>
<pre><code class="language-plain_text">this.props.changeTabBar(!this.props.testShow)
</code></pre>
<ul>
<li>
<p>æ¶ˆæ¯å¤„ç†ï¼šstep4 ä¸­ç»‘å®šçš„reduceræ–‡ä»¶ä¸­:</p>
<pre><code class="language-plain_text">//1.å¯¼å…¥å¤´æ–‡ä»¶
import { combineReducers } from 'redux';
//2.åˆ›å»ºåˆå§‹åŒ–çŠ¶æ€
const initialState = { testShow: true};
//3.é€»è¾‘å¤„ç†
</code></pre>
</li>
</ul>
<p>const find = (state = initialState, action) =&gt; {
switch (action.type) {
case 'findshowTabBar':{
return Object.assign({}, state, {
testShow: action.testShow
})
}
default:
return state;</p>
<pre><code class="language-plain_text">      }
  }
  //4.ç»„åˆæ‰€æœ‰çš„é€»è¾‘å—
  const AppReducer = combineReducers({
      find,
      //å¦‚æœä¸šåŠ¡ç¹å¤šè¿™é‡Œå¯èƒ½è¿˜æœ‰åˆ«çš„æ¨¡å—
  });
  //5.å¯¼å‡º
  export default AppReducer;
  ```
</code></pre>
<ul>
<li>
<p>è·å–æ›´æ”¹çŠ¶æ€å€¼ï¼š</p>
<pre><code class="language-plain_text">//å› ä¸ºä¸Šä¸€æ­¥çš„ç»‘å®šæ•°æ®  å°±æ˜¯å°†stateçš„çŠ¶æ€å€¼ ç»‘å®šåˆ°AppFindçš„propsä¸Šï¼Œ
//æ‰€ä»¥å–å€¼çš„æ—¶å€™ç›´æ¥ä»thisã€‚propsä¸­å–å³å¯
var {testShow,isShowTab,showTabBar} = this.props;
&lt;Text 
    style={{fontSize:17,color:testShow?&quot;red&quot;:'rgb(39, 249, 110)'}}&gt;
    {testShow?&quot;æˆ‘è¦æ˜¾ç¤ºæŸä¸ªä¸œè¥¿&quot;:&quot;æˆ‘è¦éšè—æŸä¸ªä¸œè¥¿&quot;}
&lt;/Text&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ€»ç»“ï¼š
å…¶å®è¿™é‡Œæœ€é‡è¦çš„å°±ä¸‰æ­¥ï¼š1. åŒ…è£…   2ã€æ•°æ®ç»‘å®š 3ã€æ•°æ®å¤„ç†</p>
</blockquote>
<h2><a id="%E5%9F%BA%E7%A1%80" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åŸºç¡€</h2>
<h3><a id="1-action" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. action</h3>
<p>ä¿¡æ¯çš„æºå¸¦è€…ã€‚
<strong>æ´¾å‘æ¶ˆæ¯çš„å‡ ç§æ–¹å¼ï¼š</strong></p>
<ul>
<li>ç›´æ¥å‘é€ï¼š</li>
</ul>
<pre><code class="language-plain_text">dispatch({type:'action_name',index:2});

const myAction = {
  type:'action_name',
  index: 1,
}
dispatch(myAction);
</code></pre>
<ul>
<li>é€šè¿‡Actionçš„åˆ›å»ºå‡½æ•°å‘é€ï¼š</li>
</ul>
<pre><code class="language-plain_text">//æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„Actionå°è£…åˆ°ä¸€ä¸ªå›ºå®šæ–‡ä»¶ å°±æƒ³CSSæ–‡ä»¶é‚£æ · å¤´æ–‡ä»¶å¯¼å…¥çš„æ–¹å¼ å»å¼•ç”¨
const actionFunc = (text) =&gt; {
  return {
    type: 'action_name',
    index: 2,
  }
}

//æ´¾å‘æ¶ˆæ¯æ—¶å€™ ç›´æ¥å¼•ç”¨åˆ›å»ºå‡½æ•°çš„è¿”å›ç»“æœå³å¯
dispatch(actionFunc('test'));
</code></pre>
<ul>
<li>ç»‘å®šçš„Actionåˆ›å»ºå‡½æ•°</li>
</ul>
<pre><code class="language-plain_text">//åŸºæœ¬actionåˆ›å»ºå‡½æ•°
const actionFunc = (text) =&gt; {
  return {
    type: 'action_name',
    index: 2,
  }
}
//ç»‘å®šæ´¾å‘æ–¹æ³•
const boundAction = (test) =&gt; {
  dispatch(actionFunc(test));
}

//ä½¿ç”¨ç»‘å®šå¥½çš„æ´¾å‘å‡½æ•°
boundAction('test');
</code></pre>
<h3><a id="2-reducer" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. reducer</h3>
<p>çº¯å‡½æ•°ï¼›</p>
<ul>
<li>
<p>æ–¹æ³•ç»“æ„</p>
<pre><code class="language-plain_text">(previouseState,action) =&gt; newState
</code></pre>
<p>ç»™ä¸€ä¸ªæ—§çš„state å’Œä¸€ä¸ªaction ç”Ÿæˆ ä¸€ä¸ªæ–°çš„ stateã€‚</p>
</li>
<li>
<p>åŸºæœ¬æ–¹æ³•</p>
<pre><code class="language-plain_text">const initialState = { testShow: true};

const home = (state = initialState, action) =&gt; {
  switch (action.type) {
    case 'homeshowTabBar':{

      console.log(&quot;homeshowTabBarï¼š%s&quot;,action.testShow);
    
    //åˆå¹¶çŠ¶æ€å€¼
      return Object.assign({}, state, {
        testShow: action.testShow;
      })
    }
    default:
    return state;

  }
}   
</code></pre>
<p>åˆå¹¶stateçš„æ—¶å€™ä¸‹é¢çš„æ–¹æ³•ä¹Ÿæ˜¯èƒ½è¾¾åˆ°ç›¸åŒæ•ˆæœçš„</p>
<pre><code class="language-plain_text">{...state, ...newState} 
</code></pre>
</li>
<li>
<p>æ‹†åˆ†åˆå¹¶reducer</p>
<pre><code class="language-plain_text">const home = (state = initialState, action) =&gt; {
    switch (action.type) {
        case 'homeshowTabBar':{
            console.log(&quot;homeshowTabBarï¼š%s&quot;,action.testShow);
            return Object.assign({}, state, {
                testShow: action.testShow
            })
        }
        default:
        return state;
    }
}

const find = (state = initialState, action) =&gt; {
    switch (action.type) {
        case 'findshowTabBar':{
            return Object.assign({}, state, {
            testShow: action.testShow
            })
        }
        default:
        return state;

    }
}

//åˆå¹¶
const AppReducer = combineReducers({
    nav,
    home,
    find,
});
export default AppReducer
</code></pre>
<p><strong>æ³¨æ„ä¸Šé¢çš„å†™æ³•å’Œä¸‹é¢å®Œå…¨ç­‰ä»·!!!</strong>ï¼š</p>
<pre><code class="language-plain_text">const AppReducer = (state={}, action) =&gt; {
    return {
        home: home(state.home,action),
        find: find(sate.find,action),
    }
}
</code></pre>
</li>
<li>
<p>å‡å°‘ä»£ç é‡ è‡ªåŠ¨å®šä¹‰ reducerCreator</p>
<pre><code class="language-plain_text">export const testCreator = myCreatorForReducer([], {
 [ActionTypes.ADD_TODO](state, action) {
 let text = action.text.trim();
 return [...state, text];
 }
})

const myCreatorForReducer = (initialState,handles) =&gt; {

    return (state=initialState,action) =&gt; {
        return handles[action.type](state,action);
    }else {
     return state;
    }

}
</code></pre>
<p>è®¾ç½®ä¸åŒçš„Keyã€è°ƒç”¨ä¸åŒçš„æ–¹æ³•:</p>
<pre><code class="language-plain_text">const reducer = combineReducers({
    a: doSomethingWithA,
    b: processB,
    c: c
})

function reducer(state = {}, action) {
    return {
        a: doSomethingWithA(state.a, action),
        b: processB(state.b, action),
        c: c(state.c, action)
    }
}
</code></pre>
</li>
</ul>
<h3><a id="3-store" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. store</h3>
<ul>
<li>ç»´æŒåº”ç”¨çš„ <code>state</code>ï¼›</li>
<li>æä¾› <code>getState()</code> æ–¹æ³•è·å– <code>state</code>ï¼›</li>
<li>æä¾› <code>dispatch(action)</code> æ–¹æ³•æ›´æ–° <code>state</code>ï¼›</li>
<li>é€šè¿‡ <code>subscribe(listener)</code> æ³¨å†Œç›‘å¬å™¨;</li>
<li>é€šè¿‡ <code>subscribe(listener)</code> è¿”å›çš„å‡½æ•°æ³¨é”€ç›‘å¬å™¨ã€‚</li>
</ul>
<pre><code class="language-plain_text">import { createStore } from 'redux'
import todoApp from './reducers'
let store = createStore(todoApp)
</code></pre>
<blockquote>
<p>åç»­ä¼šæ›´æ–°çš„................</p>
</blockquote>
<h2><a id="%E9%AB%98%E7%BA%A7" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é«˜çº§</h2>
<h3><a id="%E5%BC%82%E6%AD%A5action" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¼‚æ­¥action</h3>
<h3><a id="%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E6%B5%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¼‚æ­¥æ•°æ®æµ</h3>
<h3><a id="middleware%E4%B8%AD%E9%97%B4%E4%BB%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Middleware ä¸­é—´ä»¶</h3>
<h3><a id="%E6%90%AD%E9%85%8Dreact-router" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ­é… React Router</h3>
<h2><a id="%E6%8A%80%E5%B7%A7" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æŠ€å·§</h2>
<h2><a id="api" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>API</h2>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SectionListView]]></title>
    <link href="http://kaelinda.top/14948260667614.html"/>
    
    <updated>2017-05-15T13:27:46+08:00</updated>
    <id>http://kaelinda.top/14948260667614.html</id>
    <content type="html"><![CDATA[
    <img src="" />
<h2><a id="%E5%B1%9E%E6%80%A7" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å±æ€§</h2>
<ol>
<li>ItemSeparatorComponent  <code>{highlighted,leadingItem,leandingSection,section,trailingItem}</code><br />
è¿”å›ä¸€ä¸ªè¡Œä¸è¡Œä¹‹é—´çš„åˆ†å‰²ç»„ä»¶ï¼Œä¸ä¼šå‡ºç°åœ¨ç¬¬ä¸€è¡Œä¹‹å‰å’Œæœ€åä¸€è¡Œä¹‹åã€‚
<ul>
<li><code>highlighted</code> å½“å‰è¡Œï¼ˆåˆ†å‰²çº¿ä¸Šé¢ğŸ‘†çš„Itemï¼‰æ˜¯å¦æ˜¯é«˜äº®çŠ¶æ€</li>
<li><code>leadingItem</code> å½“å‰è¡Œåˆ†é…åˆ°çš„æ•°æ®æº</li>
<li><code>leandingSection</code> ç›®å‰æˆ‘ä¹Ÿæ²¡ææ˜ç™½å•¥æ„æ€ è¿™é‡Œæ˜¯<code>undefined</code></li>
<li><code>section</code> å½“å‰æ®µåˆ†é…åˆ°çš„æ•°æ®æº</li>
<li><code>trailingItem</code> å°¾æ®µæ•°æ®</li>
</ul>
</li>
<li>ListEmptyCompone  <code>æ²¡æœ‰æ¥æ”¶å‚æ•°</code><br />
æ¸²æŸ“ä¸€ä¸ªcellä¸ºç©ºæ—¶çš„ç¼“å†²ç»„ä»¶</li>
<li>ListFooterComponent  <code>æ²¡æœ‰æ¥æ”¶å‚æ•°</code><br />
æ¸²æŸ“æ•´ä¸ªç»„ä»¶çš„Footer</li>
<li>ListHeaderComponent   <code>æ²¡æœ‰æ¥æ”¶å‚æ•°</code><br />
æ¸²æŸ“æ•´ä¸ªç»„ä»¶çš„Header</li>
</ol>
<span id="more"></span><!-- more -->
<ol start="5">
<li>
<p>SectionSeparatorComponent <code>{highlighted,leadingItem,leandingSection,section,trailingItem}</code>
æ®µåˆ†å‰²ç»„ä»¶</p>
<ul>
<li><code>highlighted</code> å½“å‰è¡Œï¼ˆåˆ†å‰²çº¿ä¸Šé¢ğŸ‘†çš„Itemï¼‰æ˜¯å¦æ˜¯é«˜äº®çŠ¶æ€</li>
<li><code>leadingItem</code> å½“å‰è¡Œåˆ†é…åˆ°çš„æ•°æ®æº è¿™é‡Œæ˜¯<code>undefined</code></li>
<li><code>leandingSection</code> ç›®å‰æˆ‘ä¹Ÿæ²¡ææ˜ç™½å•¥æ„æ€ è¿™é‡Œæ˜¯<code>undefined</code></li>
<li><code>section</code> å½“å‰æ®µåˆ†é…åˆ°çš„æ•°æ®æº</li>
<li><code>trailingItem</code> å°¾æ®µæ•°æ®</li>
</ul>
</li>
<li>
<p>extraData<br />
å¦‚æœæœ‰é™¤dataä»¥å¤–çš„æ•°æ®ç”¨åœ¨åˆ—è¡¨ä¸­ï¼ˆä¸è®ºæ˜¯ç”¨åœ¨renderItemè¿˜æ˜¯Headeræˆ–è€…Footerä¸­ï¼‰ï¼Œè¯·åœ¨æ­¤å±æ€§ä¸­æŒ‡å®šã€‚åŒæ—¶æ­¤æ•°æ®åœ¨ä¿®æ”¹æ—¶ä¹Ÿéœ€è¦å…ˆä¿®æ”¹å…¶å¼•ç”¨åœ°å€ï¼ˆæ¯”å¦‚å…ˆå¤åˆ¶åˆ°ä¸€ä¸ªæ–°çš„Objectæˆ–è€…æ•°ç»„ä¸­ï¼‰ï¼Œç„¶åå†ä¿®æ”¹å…¶å€¼ï¼Œå¦åˆ™ç•Œé¢å¾ˆå¯èƒ½ä¸ä¼šåˆ·æ–°ã€‚</p>
</li>
</ol>
<blockquote>
<p>æ–‡æ¡£è¯´çš„æŒºä¹±ï¼Œæ€»è€Œè¨€ä¹‹è¨€è€Œæ€»ä¹‹ï¼šsectionListçš„åˆ·æ–°é¦–å…ˆå†³å®šäºDataï¼Œå½“Dataæ²¡å˜åŒ–ï¼Œä½†æ˜¯ä½ æƒ³å¼ºåˆ¶åˆ·æ–°UIçš„æ—¶å€™ï¼Œæœ‰ä¸ªçŠ¶æ€æ§åˆ¶ï¼Œé‚£ä¹ˆè¿™ä¸ªçŠ¶æ€æ§åˆ¶éœ€è¦åœ¨è¿™é‡Œå†™ä¸€ä¸‹ï¼Œå…³è”ä¸€ä¸‹ï¼Œå¦åˆ™ä½ çš„è¿™ä¸ªçŠ¶æ€ä¸ä¼šè¢«å…³è”ï¼ŒUIä¸ä¼šè¢«åˆ·æ–°ã€‚</p>
</blockquote>
<ol start="7">
<li>
<p>initialNumToRender<br />
æŒ‡å®šä¸€å¼€å§‹æ¸²æŸ“çš„item æ•°é‡,é¢„åŠ è½½item æ•°</p>
</li>
<li>
<p>keyExtractor <code>(item: ItemT, index: number) =&gt; string</code>
æ­¤å‡½æ•°ç”¨äºä¸º<strong>ç»™å®šçš„item</strong>ç”Ÿæˆä¸€ä¸ªä¸é‡å¤çš„keyã€‚Keyçš„ä½œç”¨æ˜¯ä½¿Reactèƒ½å¤ŸåŒºåˆ†åŒç±»å…ƒç´ çš„ä¸åŒä¸ªä½“ï¼Œä»¥ä¾¿åœ¨åˆ·æ–°æ—¶èƒ½å¤Ÿç¡®å®šå…¶å˜åŒ–çš„ä½ç½®ï¼Œå‡å°‘é‡æ–°æ¸²æŸ“çš„å¼€é”€ã€‚è‹¥ä¸æŒ‡å®šæ­¤å‡½æ•°ï¼Œåˆ™é»˜è®¤æŠ½å–item.keyä½œä¸ºkeyå€¼ã€‚è‹¥item.keyä¹Ÿä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨æ•°ç»„ä¸‹æ ‡ã€‚</p>
</li>
<li>
<p>onEndReachedThreshold  <code>number</code><br />
æ•°å€¼ã€‚å†³å®šå½“è·ç¦»å†…å®¹æœ€åº•éƒ¨è¿˜æœ‰å¤šè¿œæ—¶è§¦å‘onEndReachedå›è°ƒã€‚æ³¨æ„æ­¤å‚æ•°æ˜¯ä¸€ä¸ªæ¯”å€¼è€Œéåƒç´ å•ä½ã€‚æ¯”å¦‚ï¼Œ0.5è¡¨ç¤ºè·ç¦»å†…å®¹æœ€åº•éƒ¨çš„è·ç¦»ä¸ºå½“å‰åˆ—è¡¨å¯è§é•¿åº¦çš„ä¸€åŠæ—¶è§¦å‘</p>
</li>
<li>
<p>onEndReached  <code>(info: {distanceFromEnd: number}) =&gt; void</code></p>
<p>ä¼ å…¥ä¸€ä¸ªå¯¹è±¡infoï¼ŒinfoåŒ…å«numberç±»å‹çš„<code>distanceFromEnd</code>å±æ€§ã€‚</p>
</li>
<li>
<p>onViewableItemsChanged <code>(info: {viewableItems: Array&lt;ViewToken&gt;, changed: Array&lt;ViewToken&gt;}) =&gt; void</code></p>
<ul>
<li>viewableItems å¯æ˜¯Itemå¯¹åº”çš„æ•°æ®</li>
<li>changed æ”¹å˜çš„æ•°æ®<br />
å¯è§†å…ƒç´ å‘ç”Ÿå˜åŒ–æ—¶è°ƒç”¨</li>
</ul>
</li>
<li>
<p>refreshing <code>boolean</code><br />
ç­‰å¾…æ–°æ•°æ®åŠ è½½æ—¶æ­¤å±æ€§è®¾ç½®ä¸ºtrueï¼Œåˆ—è¡¨ä¼šæ˜¾ç¤ºå‡ºæ­£åœ¨åŠ è½½çš„ç¬¦å·</p>
</li>
<li>
<p>renderItem  <code>(info: {item: Item, index: number}) =&gt; ?React.Element&lt;any&gt; </code><br />
æ¸²æŸ“æ¯ä¸€ä¸ªsectionä¸­çš„item</p>
<ul>
<li>item æ¯ä¸ªitemæ¸²æŸ“æ‰€éœ€æ•°æ®</li>
<li>index itemåœ¨å…¶sectionä¸­çš„ä½ç½®ç´¢å¼•</li>
</ul>
</li>
<li>
<p>renderSectionHeader?: <code>{section: SectionT}</code>
æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«<code>section</code>å±æ€§ï¼Œ
è¿”å›ä¸€ä¸ªç»„ä»¶ï¼Œç”¨ä½œæ®µå¤´</p>
</li>
<li>
<p>sections <code>ReadOnlyArray&lt;SectionT&gt;</code></p>
<p>ä¼ å…¥ä¸€ä¸ªsectionsæ•°ç»„</p>
<pre><code class="language-plain_text">[
{data:[{name:'nader'},{name:'chris'}],key:'A'},
{data:[{name:'nick'},{name:'amanda'}],key:'B'},
{data:[{name:'nick'},{name:'amanda'}],key:'C'},
{data:[{name:'nick'}],key:'D'},
</code></pre>
</li>
</ol>
<p>]
```</p>
<ol start="16">
<li>stickySectionHeadersEnabled <code>boolean</code></li>
</ol>
<h2><a id="%E6%96%B9%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ–¹æ³•</h2>
<ul>
<li><code>scrollToLocation (params: object) </code> -- {sectionIndex,itemIndex}:ä»£ç æ§åˆ¶ UIäº¤äº’è·³è½¬åˆ°æŒ‡å®šä½ç½®</li>
<li><code>recordInteraction()</code> å‘Šè¯‰ListView äº¤äº’å·²ç»å‘ç”Ÿäº†</li>
<li><code>flashScrollIndicators()</code>æ˜¾ç¤ºæŒ‡ç¤ºæ»šåŠ¨</li>
</ul>

]]></content>
  </entry>
  
</feed>
